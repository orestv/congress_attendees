{% extends "base.html" %}
{% block title %}
    {{ super() }}
    Пошук
{% endblock %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="/static/index.css">
    <link rel="stylesheet" href="/static/attendee_editor.css">
    <script src="/static/search.js" type="text/javascript" charset="utf-8" async defer></script>
    <script src="/static/index.js" type="text/javascript" charset="utf-8" async defer></script>
    <script src="/static/attendee_editor.js" type="text/javascript" charset="utf-8" async defer></script>    
{% endblock %}
{% block content %}
    <div id="searchListContainer">
        <div class="centerContainer">
            (введіть перші букви імені або прізвища)<br>
            <input type="search" id="searchBox"/>
            <img src="/static/ajax-loader.gif" alt="" id="imgSearchLoader" style="visibility: hidden;"></div>
        <div id="results" class="centerResultTableContainer">
            <table width="100%" id="searchResultsTable" style="visibility: hidden">
                <thead>
                    <tr>
                        <td colspan="3" style="border-bottom: 1px solid black">
                            <div id="dvFoundCount" class="AttendeeSearchStatus">Знайдено учасників: <span id="spFoundCount"></span></div>
                            <div id="dvNoneFound" class="AttendeeSearchStatus">Учасників не знайдено</div>
                        </td>
                    </tr>
                    <tr>
                        <th width="30%">Місто</th>
                        <th>Ім’я</th>
                        <th>Дії</th>
                    </tr>
                </thead>
                <tbody id="searchResultsBody"></tbody>
            </table>
        </div>
    </div>
    <div id="attendeeEditorContainer" style="display: none" class="centerContainer">
        <div style="width: 100%; text-align: left">
            <input type="button" id="btnBackToList" value="<<< Список">
        </div>

        {% include "attendee_editor.html" %}
        
        <div class="attendeeEditorBlock">
            <table class="attendeeEditorTable">
                <thead>
                    <tr>
                        <th>Імпреза</th>
                        <th>Відвідає?</th>
                        <th>Зайнято місць</th>
                        <th>Всього місць</th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in events %}
                        <tr>
                            <td>
                                <label for="{{event._id}}">{{event.caption}}</label>
                            </td>
                            <td><input type="checkbox" id="{{event._id}}" name="events"/></td>
                            <td>
                                <span id="spAttendees_{{event._id}}"></span>
                            </td>
                            <td>
                                <span id="spLimit_{{event._id}}"></span>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div style="clear: both"></div>
        <input type="button" id="btnRegisterAttendee" value="Зареєструвати"/>
    </div>
{% endblock %}